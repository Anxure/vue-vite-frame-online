const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/mock-CKD32baF.js","assets/js/ant-design-vue-DokGIBGL.js","assets/js/vue-vendor-CltIegHl.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-CEtAfkuj.js";import"./vue-vendor-CltIegHl.js";import"./ant-design-vue-DokGIBGL.js";function t(e,{message:t="ok"}={}){return{code:0,result:e,message:t,type:"success"}}function o(e,o,n,{message:r="ok"}={}){const s=function(e,t,o){const n=(e-1)*Number(t);return n+Number(t)>=o.length?o.slice(n,o.length):o.slice(n,n+Number(t))}(e,o,n);return{...t({items:s,total:n.length}),message:r}}const n=["教师","医生","消防员","程序员","工人","学生"],r=["132","135","189","183"],s=Array.from({length:200}).map((e,t)=>({id:`${t}`,name:"@cname()",address:"@county(true)",age:"@natural(0, 50)",phone:`${r[Math.floor(4*Math.random())]}${Math.round(1e8*Math.random())}`,date:"@date('yyyy-MM-dd')",time:"@time('HH:mm')",profession:n[Math.floor(6*Math.random())]})),a=[{url:"/tableList",timeout:1e3,method:"get",response:({query:e})=>{const{pageNum:t=1,pageSize:n=10}=e;return o(t,n,s)}}],i=Object.freeze(Object.defineProperty({__proto__:null,default:a},Symbol.toStringTag,{value:"Module"})),c=[{id:"1",username:"admin",desc:"充满活力的胖子",realNanme:"Anxure",password:"123456",token:"token1"},{id:"2",username:"test",desc:"充满活力的胖子",realNanme:"Test",password:"123456",token:"token2"}],p=[{title:"工作台",name:"workplace",path:"/workplace",icon:"icon-gongzuotai"},{title:"表格示例",name:"table",path:"/table",icon:"icon-biaoge1"},{title:"表单页",name:"form",path:"/form",icon:"icon-biaodan",children:[{title:"基础表单",name:"base-form",path:"/form/base-form"},{title:"高级表单",name:"advanced-form",path:"/form/advanced-form"}]},{title:"异常页",name:"exception",path:"/exception",icon:"icon-yichangguanli",children:[{title:"403",name:"403",path:"/exception/403"},{title:"404",name:"404",path:"/exception/404"}]}],u=[{title:"表单页",name:"form",path:"/form",icon:"icon-biaodan",children:[{title:"基础表单",name:"base-form",path:"/form/base-form"}]},{title:"异常页",name:"exception",path:"/exception",icon:"icon-yichangguanli",children:[{title:"403",name:"403",path:"/exception/403"},{title:"404",name:"404",path:"/exception/404"}]}],m=[{url:"/login",timeout:1e3,method:"post",response:e=>{const{username:o,password:n}=null==e?void 0:e.body,r=c.find(e=>e.username===o&&e.password===n);return r?t({...r,password:""}):function(e="Request failed",{code:t=-1,result:o=null}={}){return{code:t,result:o,message:e,type:"error"}}("用户名或者密码错误")}},{url:"/getMenuTree",timeout:1e3,method:"get",response:e=>{const{id:o}=null==e?void 0:e.query;let n=[];return n="1"===o?p:u,t([...n])}}],l=Object.freeze(Object.defineProperty({__proto__:null,default:m,menuTree:p,testMenuTree:u},Symbol.toStringTag,{value:"Module"}));function d(e){const t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}function h(e,t){return function(o){let n=null;if("function"==typeof t){const{body:e,type:r,url:s,headers:a}=o;let i=e;try{i=JSON.parse(e)}catch{}n=t({method:r,body:i,query:d(s),headers:a})}else n=t;return e.mock(n)}}function f(e,t=0){t&&e.setup({timeout:t})}const y=Object.assign({"../mock/module/table.ts":i,"../mock/module/user.ts":l}),g=[];Object.keys(y).forEach(e=>{g.push(...y[e].default)});const b="/vue-vite-frame-online/";function _(){!async function(t){const o=await e(()=>import("./mock-CKD32baF.js").then(e=>e.m),__vite__mapDeps([0,1,2])),{pathToRegexp:n}=await e(async()=>{const{pathToRegexp:e}=await import("./index-BWO99-YF.js");return{pathToRegexp:e}},[]);o.XHR.prototype.__send=o.XHR.prototype.send,o.XHR.prototype.send=function(){if(this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1,this.responseType&&(this.custom.xhr.responseType=this.responseType)),this.custom.requestHeaders){const e={};for(let t in this.custom.requestHeaders)e[t.toString().toLowerCase()]=this.custom.requestHeaders[t];this.custom.options=Object.assign({},this.custom.options,{headers:e})}this.__send.apply(this,arguments)},o.XHR.prototype.proxy_open=o.XHR.prototype.open,o.XHR.prototype.open=function(){let e=this.responseType;this.proxy_open(...arguments),this.custom.xhr&&e&&(this.custom.xhr.responseType=e)};for(const{url:e,method:r,response:s,timeout:a}of t)f(o,a),o.mock(n(e,void 0,{end:!1}),r||"get",h(o,s))}(g.map(e=>{let t=e.url;t=`${b.endsWith("/")?b.slice(0,-1):b}${e.url.startsWith("/")?e.url:`/${e.url}`}`;return{...e,url:t}}))}export{_ as setupProdMockServer};
